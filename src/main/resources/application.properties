server.port=${port:8080}
spring.rabbitmq.host=rabbitmq

spring.application.name=queue-master
spring.application.observability.name=queue-master.sock-shop

# Actuator endpoints configuration (Spring Boot 3.x)
management.endpoints.web.exposure.include=health,metrics,prometheus
management.endpoint.health.enabled=true
management.endpoint.metrics.enabled=true
management.endpoint.prometheus.enabled=true

# Prometheus metrics configuration
management.metrics.export.prometheus.enabled=true

# Micrometer Tracing configuration (Spring Boot 3.x replaces Sleuth)
# Enable tracing
management.tracing.enabled=true
management.tracing.sampling.probability=1.0

# Exclude health checks and actuator endpoints from tracing
management.tracing.sampling.exclude-patterns=/health,/actuator/**,/metrics,/prometheus

# Zipkin exporter configuration for Jaeger (Zipkin-compatible endpoint)
management.zipkin.tracing.endpoint=http://${zipkin_host:jaeger-collector.observability.svc.cluster.local}:9411/api/v2/spans

# Baggage propagation for distributed tracing context
management.tracing.baggage.enabled=true
management.tracing.baggage.remote-fields=x-vcap-request-id,x-request-id

# Enable propagation of trace context
management.tracing.propagation.type=B3